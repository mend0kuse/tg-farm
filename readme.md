## Описание проекта

Этот проект представляет собой набор скриптов для автоматизированного создания и управления фермой аккаунтов, взаимодействия с биржами и блокчейном TON.

## Что нужно для работы?

### Программное обеспечение

Для работы этого проекта потребуется следующее:
- **Node.js v18.20.4** — серверная платформа для запуска JavaScript-кода. [Скачать Node.js](https://nodejs.org/)
- **Docker** для запуска в контейнере. [Скачать](https://www.docker.com/)

### Подготовка окружения

Перед тем как запустить скрипты, нужно настроить окружение на вашем компьютере.

#### Установка Node.js

1. Проверьте успешность установки, открыв терминал (или командную строку) и выполнив команды:

    ```bash
    node -v
    ```

    Должна отобразиться версия Node.js.

    Также проверьте версию npm:

    ```bash
    npm -v
    ```

    Должна быть указана версия npm.

#### Установка необходимых библиотек

После установки Node.js, нужно установить все зависимости, которые используются в проекте.

1. Скачайте этот проект на свой компьютер.
2. Откройте терминал и перейдите в папку с проектом:

    ```bash
    cd путь_к_проекту
    ```

3. Установите все зависимости, выполнив команду:

    ```bash
    npm install
    ```

#### Подготовка файлов для работы

Запустите скрипт для создания необходимых файлов

```bash
chmod +x ./setup.bash
./setup.bash
```

1. Для использования прокси заполните файл `proxies.txt` в корне проекта. В формате
`socks5://login:pass@host:port`
2. Добавьте в таблицу `accounts.xlsx` столбцы:
`#`	`Телеграм id`	`Телефон`	`Никнейм`	`Сессия`	`Мнемоника ton`	`Адрес ton`	`Proxy`	`User agent`

### Описание скриптов

Запуск: 
```bash
npm run <название скрипта>
```

#### 1. acc:make
Добавление аккаунта в файл accounts.xlsx. Принимает параметр - номер аккаунта. Пример создаст аккаунт с номером 1, сгенерирует ton кошелек, выберет прокси из списка.
```bash
npm run acc:make 1
```

#### 2. acc:check-session
Проверка валидности телеграм сессий. Если с сессий что-то не так, в консоли появится ошибка. При передаче параметра проверяет сессию конкретного аккаунта. Без параметров идет проверка всех
```bash
npm run acc:check-session 1
```

#### 3. acc:update-session
Обновление невалидной телеграм сессии. Потребуется повторная авторизация в телеграм
```bash
npm run acc:update-session 1
```

#### 4. acc:nicknames
Обновляет имя аккаунта в телеграм, становится равным @username (актуально после заданий на изменение имени). Без передачи параметра обновит для всех
```bash
npm run acc:nicknames 1
```

#### 5. acc:check-wallet
Проверка баланса на ton кошельке. Без передачи параметра проверяет всех
```bash
npm run acc:check-wallet 1
```

### Запуск фермы

* Регулировать аккаунты можно [тут](./src/launcher.ts) 
* Регулировать ботов можно [тут](./src/thread.ts) 

```bash
npm run launch
```

Выключение
* ctrl + c

### Запуск в docker (можно выключить редактор кода, но компьютер должен оставаться включенным)

Проверка установлен ли docker
```bash
docker -v
```

Запуск
```bash
docker up --build -d
```

Просмотр логов. 
```bash
docker ps # Копируем id запущенного контейнера
docker logs <id контейнера> --follow
```
Выключение контейнера
```bash
docker kill <id контейнера>
```